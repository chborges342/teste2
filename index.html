<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestão de Tarefas - UESC</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Estilos para o botão de cancelar edição */
        #cancel-edit-btn {
            background-color: #f44336;
            color: white;
            margin-left: 10px;
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        /* Mensagens de feedback */
        .flash-message {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 10px 20px;
            color: white;
            border-radius: 5px;
            z-index: 1000;
            animation: fadeIn 0.3s;
        }
        
        .flash-success {
            background-color: #4CAF50;
        }
        
        .flash-error {
            background-color: #f44336;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <header>
        <h1>Sistema de Gestão de Tarefas - Colegiado de Ciências Econômicas</h1>
    </header>

    <section id="auth-section">
        <div id="logged-out-view">
            <h2>Bem-vindo! Faça Login ou Cadastre-se</h2>

            <div class="auth-forms-wrapper">
                <div class="auth-form">
                    <h3>Login</h3>
                    <form id="login-form">
                        <div class="form-group">
                            <label for="login-email">Email:</label>
                            <input type="email" id="login-email" required>
                        </div>
                        <div class="form-group">
                            <label for="login-password">Senha:</label>
                            <input type="password" id="login-password" required>
                        </div>
                        <button type="submit">Entrar</button>
                        <p id="login-error" class="error-message"></p>
                    </form>
                </div>

                <div class="auth-form">
                    <h3>Cadastre-se</h3>
                    <form id="signup-form">
                        <div class="form-group">
                            <label for="signup-email">Email:</label>
                            <input type="email" id="signup-email" required>
                        </div>
                        <div class="form-group">
                            <label for="signup-password">Senha:</label>
                            <input type="password" id="signup-password" required>
                        </div>
                        <button type="submit">Cadastrar</button>
                        <p id="signup-error" class="error-message"></p>
                    </form>
                </div>
            </div>
        </div>

        <div id="logged-in-view" style="display: none;">
            <p>Logado como: <span id="user-email-display"></span></p>
            <button id="logout-button">Sair</button>
        </div>
    </section>

    <main>
        <section id="cadastro-tarefa">
            <h2>Adicionar Nova Tarefa</h2>
            <form id="task-form">
                <div class="form-group">
                    <label for="task-description">Descrição da Tarefa:</label>
                    <input type="text" id="task-description" required>
                </div>

                <div class="form-group">
                    <label for="task-type">Tipo de Tarefa:</label>
                    <select id="task-type" required>
                        <option value="">Selecione um tipo</option>
                        <option value="Aproveitamento">Aproveitamento</option>
                        <option value="AACC">AACC</option>
                        <option value="Retorno">Retorno</option>
                        <option value="Trancamento">Trancamento</option>
                        <option value="Agendamento/Defesa de Monografia">Agendamento/Defesa de Monografia</option>
                        <option value="Consepe">Consepe</option>
                        <option value="Exercício domiciliar">Exercício domiciliar</option>
                        <option value="Estágio">Estágio</option>
                        <option value="Curricularização da Extensão">Curricularização da Extensão</option>
                        <option value="Solicitação Veículo/Transporte">Solicitação Veículo/Transporte</option>
                        <option value="Comunicação outras unidades">Comunicação outras unidades</option>
                        <option value="Outros">Outros</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="task-sei-process">Processo SEI:</label>
                    <input type="text" id="task-sei-process">
                </div>

                <div class="form-group">
                    <label for="task-assignee">Colaborador Atribuído:</label>
                    <select id="task-assignee" required>
                        <option value="">Selecione um colaborador</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="task-deadline">Prazo de Conclusão:</label>
                    <input type="date" id="task-deadline" required>
                </div>

                <div class="form-group">
                    <label for="task-priority">Prioridade:</label>
                    <select id="task-priority" required>
                        <option value="Alta">Alta</option>
                        <option value="Média">Média</option>
                        <option value="Baixa">Baixa</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="task-observations">Observações:</label>
                    <textarea id="task-observations" rows="3"></textarea>
                </div>

                <div class="form-group">
                    <label for="task-status">Status:</label>
                    <select id="task-status" required>
                        <option value="Não Iniciado">Não Iniciado</option>
                        <option value="Em Andamento">Em Andamento</option>
                        <option value="Pendente">Pendente</option>
                        <option value="Concluído">Concluído</option>
                    </select>
                </div>

                <div class="form-group">
                    <button type="submit">Salvar Tarefa</button>
                    <button type="button" id="cancel-edit-btn" style="display: none;">Cancelar Edição</button>
                </div>
            </form>
        </section>

        <section id="lista-tarefas">
            <h2>Minhas Tarefas</h2>
            <div class="filters">
                <label for="filter-status">Filtrar por Status:</label>
                <select id="filter-status">
                    <option value="all">Todos</option>
                    <option value="Não Iniciado">Não Iniciado</option>
                    <option value="Em Andamento">Em Andamento</option>
                    <option value="Pendente">Pendente</option>
                    <option value="Concluído">Concluído</option>
                </select>

                <label for="filter-assignee">Filtrar por Colaborador:</label>
                <select id="filter-assignee">
                    <option value="all">Todos</option>
                </select>

                <label for="filter-start-date">De:</label>
                <input type="date" id="filter-start-date">

                <label for="filter-end-date">Até:</label>
                <input type="date" id="filter-end-date">

                <button id="reset-filters-btn">Limpar Filtros</button>
            </div>
            
            <div class="task-list-container">
                <table>
                    <thead>
                        <tr>
                            <th>Descrição</th>
                            <th>Tipo</th>
                            <th>Processo SEI</th>
                            <th>Colaborador</th>
                            <th>Prazo</th>
                            <th>Prioridade</th>
                            <th>Observações</th>
                            <th>Status</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody id="tasks-table-body">
                        <tr>
                            <td colspan="9">Faça login para ver e gerenciar tarefas.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <section id="painel-resumo">
            <h2>Painel de Resumo</h2>
            <div id="summary-content">
                <p>Resumo das tarefas por tipo, colaborador e status aparecerá aqui.</p>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 Gestão de Tarefas - UESC</p>
    </footer>

    <script type="module" src="script.js"></script>
</body>
</html>
